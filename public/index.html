<!DOCTYPE html>
<html>

<head>
    <title>Telegram Custom Activity</title>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet"
        href="vendor/salesforce-lightning-design-system/styles/salesforce-lightning-design-system.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <script type="text/javascript" src="//code.jquery.com/git/jquery-git.min.js"></script>
    <script type="text/javascript" src="js/require.js"></script>
    <script type="text/javascript">
        (function () {
            var config = {
                baseUrl: 'js'
            };

            var dependencies = [
                'customActivity'
            ];

            require(config, dependencies);
        })();
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- <script>

        $(document).ready(function () {
            $('body').on('change', '#title', function () { $('#pre-title').html(this.value); });
            $('body').on('change', '#message', function () { 
                let sub2 = $('textarea#sub2').val();
                $('#pre-subtitle').html(this.value+ '<br>'+sub2); 
            });
            $('body').on('change', '#urlimg', function () { $('#pre-urlimg').attr('src', this.value); });
            $('body').on('change', '#url', function () { $("#preview-url").attr("href", this.value); });
            $('body').on('change', '#sub2', function () { 
                let message = $('textarea#message').val();
                $('#pre-subtitle').html(message + '<br>'+this.value); 
            });

            $('.addelement').on("click", function (e) {

                const ul = $('.elementlist')
                const html = `
                    <li><p>Element ${ul.children().length + 1}</p>
                    <label for="titleele">Element Title :*</label><input type="text"  class="eleinput" required>
                    <label for="imgeleurl" class="isHidden">Element Image Url :*</label><input type="text"  class="eleinput isHidden" required>
                    <label for="eleurl">Element Url :*</label><input type="text"  class="eleinput" required>
                    <label for="eleurl">Element Type:*</label>
                    <select class="selectType" required>
                        <option value="oa.open.url">OPEN URL</option>
                        <option value="oa.query.show">QUERY SHOW</option>
                    </select>
                    <button class="removebtn">&#x2715</button>
                    </li>`
                e.preventDefault()
                const preHtml = `
                    <div class="btnPreview">
                        <div class="flex isHidden">
                            <div style="width: 20%;margin-right: 5px;">
                                <img src="https://zalo-article-photo.zadn.vn/2c76e21bce50270e7e41#235964754" alt=""
                                    style="width: 100%;height: 100%;object-fit: contain;">
                            </div>
                            <div style="width: 80%;" class="preview-title">üëã PEDIASURE M√ÅCH M·∫∏ NH·ªÆNG LO·∫†I TH·ª∞C PH·∫®M GI√ÄU ARGININ CHO CON</div>
                        </div>
                        <div class="flex isCSShow">
                            <div style="width: 100%;" class="preview-title btnTypeCS">üëã PEDIASURE M√ÅCH M·∫∏ NH·ªÆNG LO·∫†I TH·ª∞C PH·∫®M GI√ÄU ARGININ CHO CON</div>
                        </div>
                    </div>
                    `
                $('.elementlist').append(html)
                $('#pre-element').append(preHtml)
                if (ul.children().length > 3) {
                    $('.addelement').css("display", "none");
                }
            })
            $(document).on('click', '.removebtn', function () {
                const ul = $('.elementlist')
                if (ul.children().length < 4) {
                    $('.addelement').css("display", "block");
                }
                $("#pre-element div.btnPreview")[$(this).parent().index()].remove()
                console.log($(this).parent().index());
                $(this).parent().remove()

            });

            setInterval(myTimer, 1000);

            function myTimer() {
                const d = new Date();
                document.getElementById("timmer").innerHTML = d.toLocaleTimeString();
            }

            $('#selectBrand').on('change', function () { $('#brandName').html($('#selectBrand option').filter(':selected').text() + " - Gian h√†ng ch√≠nh h√£ng") });

            $(document).on('change', '.elementlist .eleinput', function () {
                if ($(this).index() === 4) {
                    $($("#pre-element div.btnPreview")[$(this).parent().index()]).find('img').attr("src", this.value);
                } else if ($(this).index() === 2) {
                    $($("#pre-element div.btnPreview")[$(this).parent().index()]).find('.preview-title').html(this.value);
                }
            })
            

            $('#message-type').on('change', function (e) {
                console.log(e.target.value)
                if (e.target.value === 'CS') {
                    $(".isHidden").hide()
                    $(".isCSShow").show()
                } else {
                    $(".isHidden").show()
                    $(".isCSShow").hide()
                }
            });

            $('.addelement').on('click', function (e) {
                console.log(e.target.value)
                const messageType = $('#message-type option').filter(':selected').val()
                console.log('messageType', messageType)
                if (messageType === 'CS') {
                    $(".isHidden").hide()
                    $(".isCSShow").show()
                } else {
                    $(".isHidden").show()
                    $(".isCSShow").hide()
                }
            });
        });
        


    </script> -->
    <style>
        html {
            font-family: 'Poppins', sans-serif;
        }

        .flex {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }

        .flex input {
            margin-right: 10px;
        }

        input,
        textarea {
            box-sizing: border-box;
            outline: none;
            display: block;
            width: 100%;
            border: none;
            border-bottom: 1px solid #000;
            background: transparent;
            height: 30px;
            resize: none;
            overflow: auto;
        }

        textarea {
            height: 90px;
            border: 1px solid black;
        }

        ul.elementlist li {
            position: relative;
            margin-top: 5px;
            padding: 5px;
        }

        ul.elementlist li p {
            display: block;
            text-align: center;
            color: cadetblue;
            text-transform: uppercase;
            font-weight: 500;
        }

        ul.elementlist li .removebtn {
            position: absolute;
            right: 0px;
            top: 10px;
            border: none;
            background-color: transparent;
            font-size: 12px;
            font-weight: bold;
        }

        ul.elementlist li .removebtn:hover {
            color: red;
            transform: scale(1.5);
            transition: 0.5 all
        }

        .btnTypeCS {
            width: 100%;
            text-align: center;
            color: #fdfeff;
            background-color: #b7bcc2;
            padding: 6px;
            border-radius: 10px;
        }
        
        .selectType {
            width: 100%;
            margin-top: 10px;
            padding: 4px;
        }

    </style>
</head>

<body>

    <h2 style="font-weight: bold; font-size: 16px; text-align: center;">Demo Telegram Messages</h2>
    <div class="container">
        <div class="flex" style="justify-content:space-around;align-items:baseline;">
            <form style="width: 25%;">
                <div class="form-group">
                    <div style="margin-top: 10px;display: flex;flex-direction: column;">
                        <label for="brand" style="padding: 5px 0;">Select the brand:*</label>
                        <select name="brand" id="selectBrand">
                            <option value="PED">Pediasure</option>
                            <option value="ENS">Ensure</option>
                            <option value="SIM">Similac</option>
                            <option value="GLU">Glucerna</option>
                        </select>
                    </div>
                    <div class="">
                        <label style="padding: 5px 0;display: block;" for="message">Message:*</label>
                        <input type="text" id="message" name="message" value="" placeholder="Message" required>
                    </div>
                    <div>
                        <label
                        for="urlimg" style="padding: 5px 0;display: block;">Thumbnail image:</label><input
                        type="text" id="urlimg" name="urlimg" value="" placeholder="Thumbnail image">
                    </div>
                    <!-- <div>
                        <label for="avatar">Upload Your Image:</label>
                        <input type="file" id="avatar3" name="avatar3" data-thumb='thumbnail-three' required="">
                    </div> -->

                    <!-- Demo_Telegram 
                    <div style="margin-bottom: 10px;display: flex;flex-direction: column; ">
                        <label for="message-type" style="padding: 5px 0;">Message type:*</label>
                        <select name="message-type" id="message-type">
                            <option value="CS">Tin t∆∞ v·∫•n</option>
                            <option value="TS" selected>Tin giao d·ªãch</option>
                            <option value="PS">Tin truy·ªÅn th√¥ng</option>
                        </select>
                    </div> 

                    <label for="title" class="">Title:*</label><input class="" type="text" id="title" name="title" value=""
                        placeholder="Title" required>
                        <label class="isHidden" style="padding: 5px 0;display: block;"
                        for="message">Subtitle 1:*</label>
                        <label class="isCSShow" style="padding: 5px 0;display: none;"
                        for="message">Message:*</label>
                        <textarea class="form-control" rows="4" cols="30"
                        id="message"></textarea>
                        <label class="isHidden" style="padding: 5px 0;display: block;"
                        for="sub2">Subtitle 2:*</label><textarea class="form-control isHidden" rows="4" cols="30"
                        id="sub2"></textarea> 
                    <label
                        for="urlimg" style="padding: 5px 0;display: block;">Thumbnail image:</label><input
                        type="text" id="urlimg" name="urlimg" value="" placeholder="Thumbnail image">
                    <div class="isHidden">
                        <label style="padding: 5px 0;display: block;" for="url">Url:*</label>
                        <input type="text" id="url" name="url" value="" placeholder="url" required>
                    </div>


                    <div style="margin-top: 10px;display: flex;flex-direction: column;">
                        <label for="brand" style="padding: 5px 0;">Select the brand:*</label>
                        <select name="brand" id="selectBrand">
                            <option value="GRW">Grow</option>
                            <option value="PED">Pediasure</option>
                            <option value="ENS">Ensure</option>
                            <option value="SIM">Similac</option>
                            <option value="GLU">Glucerna</option>
                            <option value="ABB">Abbott</option>
                        </select>
                    </div>

                    <div class="elementgroup" style="margin-top: 10px;">
                        <ul class="elementlist">

                        </ul>
                        <button class="addelement" style="margin-top: 10px;">Add a Element</button>
                    </div>

                    -->
                     

                </div>
            </form>
        <!-- Demo_Telegram 
            <div id="preview-zns" style="max-width: 230px;background: #e3e7f0;">
                <div class="previewTop" style="position: relative;">
                    <p id="timmer"
                        style="position: absolute; top: 10px;left: 5px;z-index: 20;color: white;font-size: 10px;"></p>
                    <img style="width: 230px;background:white;" alt="" src="https://i.imgur.com/KwestMQ.png">
                    <p id="brandName"
                        style="position: absolute; bottom: 6px;left: 20px;z-index: 20;color: white;font-size: 10px;">
                    </p>
                </div>

                <a id="preview-url" href="https://developers.zalo.me/docs/api/official-account-api-147"
                    style="font-size: 8px;color: black;text-decoration: none;height: auto;display: block;background: #fefefe;margin: 15px;border-radius: 11px;">
                    <img id="pre-urlimg" src="https://stc-developers.zdn.vn/images/bg_1.jpg" alt=""
                        style="width: 100%;border-radius: 11px 11px 0 0;">
                    <div id="pre-title" class="" style="text-decoration: none;font-weight: 600;margin: 0 6px;">Ch√†o B·∫°n</div>
                    <div id="pre-subtitle" style="font-weight: 400;margin: 0 6px;padding-bottom:9px;color: #84858b;">
                        There
                        Is No Limit To What You Can Accomplish Using Zalo</div>
                    <div id="pre-element" style="font-weight: 400;margin: 0 6px;padding-bottom:9px;color: #84858b;">
                    </div>
                </a><img src="https://i.imgur.com/N1hWSWM.png" alt="" style="width: 230px;margin-top: 86px;bottom: 0;">
            </div>
        -->
            
        </div>

</body>

</html>
